Build a Telegram bot called VexaSwitch Store with the following features and fully working Python code. The bot should be structured for easy deployment on Replit. Secrets (bot token, payment token, MongoDB URI) will be added manually by the user later.

1. Currency: Wish (ğ“’)

All balances, shop prices, and rewards use the ğ“’ symbol.

Commands:

/vault â†’ shows userâ€™s current Wish balance

/dice â†’ earn extra Wishes randomly

/transfer @user <amount> â†’ send Wishes to another user


Buying Wishes uses Telegram Stars and defined packs (500:30, 1000:50, 2000:90).


2. Welcome & Help Messages

Welcome:


âœ¨ Welcome to the VexaSwitch Store âœ¨

This bot serves as your gateway to purchase in-game currencies for a variety of popular titles managed by *Collector*.

To begin, simply type the /help command to view all available options.

> Note: If you encounter any issues or bugs, please report them to @CollectorAlerts.

Help / Commands:


ğŸ“œ Available Commands:
/start - Start the bot
/help - Show this message
/shop - Explore the marketplace!
/mysales - View your waifu sales
/vault - View your ğ“’ balance
/dice - Earn extra ğ“’
/buy - Purchase Wishes with Telegram Stars

> Note: If you encounter any issues or bugs, please report them to @CollectorAlerts.

3. Database â€“ MongoDB

Use MongoDB for persistent storage. Collections:

users: stores user ID, Wish balance, etc.

cards: card information and ownership

default_shop: daily shop items

p2p_listings: user marketplace listings


Include sample placeholder connection string in code (mongo_uri = "<YOUR_MONGO_URI>") which the user will replace.


4. /shop Command â€“ Two Tabs with Inline Buttons

/shop message:


ğŸ›ï¸ VexaSwitch Store â€“ Shop
Choose a tab to browse:

Inline keyboard top row: [ Daily Shop ] [ P2P Marketplace ]

Daily Shop Tab:

Shows daily items from default_shop with thumbnail, name, price in ğ“’, and inline Buy button.

Refreshes every 24 hours.


P2P Marketplace Tab:

Shows user listings with seller username, card name, price in ğ“’, and inline Buy button.


Switching tabs edits the same message in place. Optional highlight active tab.


5. P2P Commands & Features

/mysales â†’ shows all cards the user has for sale with inline buttons to Remove/Edit price.

/sell <card_id> <price> â†’ list a card for sale.

Buying automatically transfers card ownership in MongoDB.


6. Telegram Stars Integration

/buy command sends invoices using placeholder payment token (payment_token = "<YOUR_PAYMENT_TOKEN>").

Credits Wishes automatically upon successful payment.


7. Inline Keyboard & UI Design

Main menu buttons: ğŸ›’ Shop, ğŸ“¦ My Listings, ğŸ’° Vault, ğŸ’µ Buy Wishes, ğŸ” Transfer.

Shop and P2P items: thumbnail, card name, price in ğ“’, Buy/List buttons.

UI design and behavior should mimic @IACMarketplaceBot.


8. File Structure & Deliverables

Provide main.py, utils.py, shop.py, and requirements.txt.

Include placeholder MongoDB connection and payment token references to be replaced by the user.

Include example initial database documents for testing Daily Shop and P2P Marketplace.


9. Notes for AI Generation

Use callback queries for tab switching and Buy buttons.

Purchases must update MongoDB balances/cards automatically.

Ensure /shop allows seamless switching between Daily and P2P tabs in a single message.

Use ğ“’ consistently for all currency displays.

Include proper error handling (insufficient balance, card not found, payment failure).